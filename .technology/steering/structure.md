# Project Structure & Architecture

## Folder Organization

```
lib/
├── main.dart              # App entry point and navigation logic
├── models/                # Data models and entities
│   ├── attendance.dart    # Attendance record model
│   ├── course.dart        # Course/subject model
│   └── attendance_stats.dart # Statistics model
├── stores/                # MobX state management stores
│   ├── main_store.dart    # Root store coordinating other stores
│   ├── attendance_store.dart # Attendance data and logic
│   └── course_store.dart  # Course management
├── services/              # Business logic and external integrations
│   ├── auth_service.dart  # Authentication logic
│   └── database_service.dart # SQLite database operations
├── views/                 # Screen-level UI components
│   ├── login_view.dart    # Login screen
│   ├── signup_view.dart   # Registration screen
│   └── dashboard_view.dart # Main app dashboard
├── widgets/               # Reusable UI components
│   ├── attendance_card.dart # Individual attendance display
│   ├── calendar_view.dart # Calendar component
│   ├── subject_card.dart  # Course/subject card
│   ├── percentage_indicator.dart # Progress indicators
│   └── alert_banner.dart  # Warning/alert displays
└── utils/                 # Utility functions and helpers
```

## Architecture Patterns

### MobX State Management
- **Stores**: Reactive state containers with computed values and actions
- **Observers**: UI components that automatically rebuild on state changes
- **Code Generation**: `.g.dart` files generated by `build_runner`

### Service Layer
- **AuthService**: Handles login/logout and user session management
- **DatabaseService**: Manages SQLite operations and data persistence
- Services are injected into stores, not directly into UI components

### UI Architecture
- **Views**: Full-screen components representing app screens
- **Widgets**: Reusable components that can be composed into views
- **Observer Pattern**: UI automatically updates when store state changes

## Naming Conventions

### Files & Classes
- **Files**: snake_case (e.g., `attendance_store.dart`)
- **Classes**: PascalCase (e.g., `AttendanceStore`)
- **Variables/Methods**: camelCase (e.g., `calculatePercentage`)
- **Constants**: SCREAMING_SNAKE_CASE (e.g., `MIN_ATTENDANCE_THRESHOLD`)

### MobX Conventions
- **Stores**: End with `Store` (e.g., `AttendanceStore`)
- **Actions**: Use descriptive verbs (e.g., `markAttendance`, `loadCourses`)
- **Computed**: Use descriptive nouns (e.g., `attendancePercentage`)

## Code Organization Rules

1. **Single Responsibility**: Each file should have one primary purpose
2. **Dependency Direction**: UI → Stores → Services → Models
3. **State Management**: All business logic in stores, UI only for presentation
4. **Reusability**: Extract common UI patterns into widgets
5. **Testing**: Mirror lib structure in test folder
6. **Generated Files**: Never edit `.g.dart` files manually

## Import Organization
```dart
// Flutter imports first
import 'package:flutter/material.dart';

// Package imports second
import 'package:flutter_mobx/flutter_mobx.dart';
import 'package:mobx/mobx.dart';

// Local imports last
import 'package:student/models/attendance.dart';
import 'package:student/stores/attendance_store.dart';
```